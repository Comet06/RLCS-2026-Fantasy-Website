import { teams } from "./current-fantasy-members.js"
import { regions } from "./main.js"
export let Regional1Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}
export let Regional2Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}
export let Regional3Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}
export let Regional4Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}
export let Regional5Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}
export let Regional6Placements = {
    'eu' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'na' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'oce' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'sam' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'mena' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'apac' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
    'ssa' : ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
}

export let kickoffLANQualifiedTeams = [
'EU #1',
'EU #2',
'EU #3',
'EU #4',
'NA #1',
'NA #2',
'NA #3',
'NA #4',
]
export let kickoffLANPlacements = {
    'Major' : ['TBD', 'TBD', 'TBD', 'TBD', 'TBD', 'TBD', 'TBD', 'TBD'],
}

export let major1QualifiedTeamsUnsorted = []
export let split1QualifiedTeams = [
'NA #1',
'EU #1',
'MENA #1',
'EU #2',
'NA #2',
'EU #3',
'OCE #1',
'SAM #1',
'NA #3',
'EU #4',
'SAM #2',
'MENA #2',
// 'EU #5', If EU Wins
'NA/EU #5',
'NA #4',
'APAC #1',
'SSA #1',
// 'NA #5', If NA Wins
]

export let Major1Placements = {
    'Major' : [
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    ],
}

export let major2QualifiedTeamsUnsorted = []
export let split2QualifiedTeams = [
'NA #1',
'EU #1',
'MENA #1',
'EU #2',
'NA #2',
'EU #3',
'OCE #1',
'SAM #1',
'NA #3',
'EU #4',
'SAM #2',
'MENA #2',
// 'EU #5', If EU Wins
'NA/EU #5',
'NA #4',
'APAC #1',
'SSA #1',
// 'NA #5', If NA Wins
]
export let Major2Placements = {
    'Major' : [
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    ],
}
export let championshipQualifiedTeamsUnsorted = []
export let championshipQualifiedTeams = [
'EU #1',
'EU #2',
'EU #3',
'EU #4',
'NA #1',
'NA #2',
'NA #3',
'NA #4',
'NA/EU #5',
'OCE #1',
'SAM #1',
'SAM #2',
'MENA #1',
'MENA #2',
'APAC #1',
'SSA #1',
'LCQ Region #1',
'LCQ Region #2',
'LCQ Region #3',
'LCQ Region #4',
]
export let ChampionshipPlacements = {
    'Major' : [
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    'TBD',
    ]
}


export function determineIndex(eventquals, eventplacements, unsorted, event2quals){
    eventquals.forEach((id) => {
        const event1Team = eventplacements['Major'].find(p => p === id)
        const event2Seed = eventquals.indexOf(id)
        const event1Seed = eventplacements['Major'].indexOf(event1Team)
        const seedNum = (event1Seed + event2Seed)/2
        const teamNewSeed = {team: id, seed: seedNum+1}
        unsorted.push(teamNewSeed)
    })
    unsorted.sort((a,b)=> a.seed - b.seed)
    for(let i = 0; i < eventquals.length; i++){
        event2quals[i] = unsorted[i].team
    }
}
export function determineQualSpots(split, unsorted, quals){
    if(split === 1){
        teams.sort((a,b) => b.split1Pts - a.split1Pts)
        regions.forEach((id) => {
            const filteredTeams = teams.filter(t => t.region === (id.reg).toUpperCase())
            for(let i = 0; i < id.spots; i++){
                unsorted.push(filteredTeams[i].team)
            }
        })
                                // If EU wins/NA Wins
        quals[0] = unsorted[4]  //5,4
        quals[1] = unsorted[0]  //0
        quals[2] = unsorted[12] //12
        quals[3] = unsorted[1]  //1
        quals[4] = unsorted[5]  //6,5
        quals[5] = unsorted[2]  //2
        quals[6] = unsorted[9]  //9
        quals[7] = unsorted[10] //10
        quals[8] = unsorted[6]  //7,6
        quals[9] = unsorted[3]  //3
        quals[10] = unsorted[11]//11
        quals[11] = unsorted[13]//13

        quals[12] = unsorted[7] //4,7
        quals[13] = unsorted[14]//8,14
        quals[14] = unsorted[15]//14,15
        quals[15] = unsorted[8] //15,8
    } else if(split === 2){
        teams.sort((a,b) => b.split2Pts - a.split2Pts)
        regions.forEach((id) => {
            const filteredTeams = teams.filter(t => t.region === (id.reg).toUpperCase())
            for(let i = 0; i < id.spots; i++){
                unsorted.push(filteredTeams[i].team)
            }
        })
                                // If EU wins/NA Wins
        quals[0] = unsorted[4]  //5,4
        quals[1] = unsorted[0]  //0
        quals[2] = unsorted[12] //12
        quals[3] = unsorted[1]  //1
        quals[4] = unsorted[5]  //6,5
        quals[5] = unsorted[2]  //2
        quals[6] = unsorted[9]  //9
        quals[7] = unsorted[10] //10
        quals[8] = unsorted[6]  //7,6
        quals[9] = unsorted[3]  //3
        quals[10] = unsorted[11]//11
        quals[11] = unsorted[13]//13

        quals[12] = unsorted[7] //4,7
        quals[13] = unsorted[14]//8,14
        quals[14] = unsorted[15]//14,15
        quals[15] = unsorted[8] //15,8
    } else if(split === 3){
        teams.sort((a,b) => b.split2Pts - a.split2Pts)
        regions.forEach((id) => {
            const filteredTeams = teams.filter(t => t.region === (id.reg).toUpperCase())
            for(let i = 0; i < id.chspots; i++){
                unsorted.push(filteredTeams[i].team)
            }
        })
                // If EU wins/NA Wins
        quals[0] = unsorted[4]  //5,4
        quals[1] = unsorted[0]  //0
        quals[2] = unsorted[12] //12
        quals[3] = unsorted[1]  //1
        quals[4] = unsorted[5]  //6,5
        quals[5] = unsorted[2]  //2
        quals[6] = unsorted[9]  //9
        quals[7] = unsorted[10] //10
        quals[8] = unsorted[6]  //7,6
        quals[9] = unsorted[3]  //3
        quals[10] = unsorted[11]//11
        quals[11] = unsorted[13]//13

        quals[12] = unsorted[7] //4,7
        quals[13] = unsorted[14]//8,14
        quals[14] = unsorted[15]//14,15
        quals[15] = unsorted[8] //15,8
        quals[16] = unsorted[16] //
        quals[17] = unsorted[17] //
        quals[18] = unsorted[18] //
        quals[19] = unsorted[19] //
    }
}